% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/convert_titeboin_decision_to_sim_format.R
\name{convert_titeboin_decision_to_sim_format}
\alias{convert_titeboin_decision_to_sim_format}
\title{Convert TITE-BOIN Decision Table to Simulation Format}
\usage{
convert_titeboin_decision_to_sim_format(dt_decision)
}
\arguments{
\item{dt_decision}{A decision table generated by \code{get_titeboin_decision()}}
}
\value{
A data frame with the same structure as the input, plus additional columns:
\describe{
\item{obs_rate}{Observed toxicity rate (n_tox / n_patients)}
\item{mf_threshold}{Numeric Missing Fraction threshold extracted from conditions}
\item{stft_threshold}{Numeric STFT threshold extracted from conditions}
\item{eliminate_flag}{Logical flag indicating if dose should be eliminated}
}
}
\description{
Convert the TITE-BOIN decision table from \code{get_titeboin_decision()} to a
simulation-optimized format. This function extracts numeric thresholds from
decision conditions (e.g., "MF<0.25", "STFT>=2.5") and adds flags for easier
lookup during trial simulation.

The converted format allows for efficient decision-making during simulation by
pre-extracting:
\itemize{
\item Missing Fraction (MF) thresholds
\item Standardized Total Follow-up Time (STFT) thresholds
\item Elimination flags
}
}
\details{
This function uses regular expressions to parse the decision conditions and extract
numeric thresholds. The resulting table enables fast lookups during simulation,
improving computational efficiency for large-scale Monte Carlo studies.
}
\examples{
# Generate TITE-BOIN decision table
target <- 0.30
boundary <- get_boin_boundary(target)

dt_full <- get_titeboin_decision(
  lambda_e = boundary$lambda_e,
  lambda_d = boundary$lambda_d,
  target = target,
  n_max = 18,
  cohort_size = 3
)

# Convert to simulation format
dt_sim <- convert_titeboin_decision_to_sim_format(dt_full)

# View structure
head(dt_sim)
names(dt_sim)

}
\references{
Yuan, Y., Lin, R., Li, D., Nie, L. and Warren, K.E. (2018).
Time-to-Event Bayesian Optimal Interval Design to Accelerate Phase I Trials.
Clinical Cancer Research, 24(20): 4921-4930.
}
\seealso{
\code{\link{get_titeboin_decision}} for generating the decision table
}
